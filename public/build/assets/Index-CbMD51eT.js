import{r as i,j as e,H as g,a as c,L as m}from"./app-gQnm-lJi.js";import{A as j}from"./AuthenticatedLayout-ejuSzYzF.js";import{B as f}from"./Badge-BFKBhfAD.js";import"./transition-BCSpRfoo.js";import"./proxy-DUDJtHwb.js";function w({proposals:r,filters:s}){const[d,o]=i.useState(s.search||""),[n,a]=i.useState(s.status||""),x=t=>{t.preventDefault(),c.get(route("admin.proposals.index"),{search:d,status:n},{preserveState:!0})},u=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),h=t=>({pending:"pending",in_progress:"in_progress",completed:"completed",rejected:"rejected"})[t]||"default";return e.jsxs(j,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-foreground",children:"All Proposals"}),children:[e.jsx(g,{title:"All Proposals"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6 bg-card border border-border overflow-hidden shadow-sm sm:rounded-lg p-6 hover:border-[#4FFA69]/30 transition-colors",children:e.jsxs("form",{onSubmit:x,className:"flex gap-4",children:[e.jsx("input",{type:"text",value:d,onChange:t=>o(t.target.value),placeholder:"Search by name, email, or company...",className:"flex-1 bg-background border-border text-foreground placeholder:text-muted-foreground focus:border-[#4FFA69] focus:ring-[#4FFA69] rounded-md shadow-sm"}),e.jsxs("select",{value:n,onChange:t=>a(t.target.value),className:"bg-background border-border text-foreground focus:border-[#4FFA69] focus:ring-[#4FFA69] rounded-md shadow-sm",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#4FFA69] text-black font-medium rounded-md hover:bg-[#4FFA69]/90 transition-colors",children:"Filter"}),(s.search||s.status)&&e.jsx("button",{type:"button",onClick:()=>{o(""),a(""),c.get(route("admin.proposals.index"))},className:"px-4 py-2 text-sm text-muted-foreground hover:text-[#4FFA69] transition-colors",children:"Clear"})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:r.data.map(t=>e.jsx(m,{href:route("admin.proposals.show",t.id),className:"bg-card border border-border overflow-hidden shadow-sm sm:rounded-lg hover:shadow-md hover:border-[#4FFA69]/30 transition-all",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:t.name||"Unnamed Proposal"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.company})]}),e.jsx(f,{variant:h(t.status),children:t.status})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),t.user?t.user.name:"No customer"]}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),t.email]}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),t.project_type]})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-4",children:t.project_description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Created ",u(t.created_at)]}),t.estimate_pdf_path&&e.jsxs("span",{className:"flex items-center text-green-600",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"PDF Generated"]})]})]})},t.id))}),r.data.length===0&&e.jsx("div",{className:"bg-card border border-border overflow-hidden shadow-sm sm:rounded-lg p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"mt-2 text-sm font-semibold text-foreground",children:"No proposals found"}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Try adjusting your filters."})]})}),r.links.length>3&&e.jsx("div",{className:"mt-6 bg-card border border-border overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-foreground",children:["Showing ",e.jsx("span",{className:"font-medium text-[#4FFA69]",children:r.from})," to"," ",e.jsx("span",{className:"font-medium text-[#4FFA69]",children:r.to})," of"," ",e.jsx("span",{className:"font-medium text-[#4FFA69]",children:r.total})," results"]}),e.jsx("div",{className:"flex space-x-2",children:r.links.map((t,l)=>e.jsx(m,{href:t.url||"#",disabled:!t.url,className:`px-3 py-2 text-sm rounded-md transition-colors ${t.active?"bg-[#4FFA69] text-black font-medium":t.url?"bg-background text-foreground hover:bg-[#4FFA69]/10 hover:text-[#4FFA69] border border-border":"bg-muted text-muted-foreground cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}},l))})]})})]})})]})}export{w as default};
