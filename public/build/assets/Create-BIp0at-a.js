import{r as p,u as j,j as e,H as h}from"./app-gQnm-lJi.js";import{G as b}from"./GuestLayout-D0TlA-Bu.js";import{B as m}from"./button-CiBCZ3yE.js";import"./proxy-DUDJtHwb.js";function y(){const[l,r]=p.useState(1),{data:t,setData:a,post:n,processing:d,errors:i}=j({name:"",email:"",phone:"",company:"",project_type:"",project_description:"",requirements:{},budget:{},timeline:{},metadata:{}}),c=()=>r(s=>Math.min(s+1,4)),o=()=>r(s=>Math.max(s-1,1)),u=s=>{s.preventDefault(),n(route("leads.store"))};return e.jsxs(b,{children:[e.jsx(h,{title:"Get Estimate"}),e.jsxs("div",{className:"mx-auto max-w-2xl",children:[e.jsx("h1",{className:"mb-6 text-2xl font-semibold",children:"Project Estimate"}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Name"}),e.jsx("input",{className:"mt-1 w-full rounded-md border p-2",value:t.name,onChange:s=>a("name",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Email"}),e.jsx("input",{type:"email",className:"mt-1 w-full rounded-md border p-2",value:t.email,onChange:s=>a("email",s.target.value)}),i.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Phone"}),e.jsx("input",{className:"mt-1 w-full rounded-md border p-2",value:t.phone,onChange:s=>a("phone",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Company"}),e.jsx("input",{className:"mt-1 w-full rounded-md border p-2",value:t.company,onChange:s=>a("company",s.target.value)})]})]}),l===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Project Type"}),e.jsx("input",{className:"mt-1 w-full rounded-md border p-2",value:t.project_type,onChange:s=>a("project_type",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Project Description"}),e.jsx("textarea",{className:"mt-1 w-full rounded-md border p-2",rows:5,value:t.project_description,onChange:s=>a("project_description",s.target.value)})]})]}),l===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Key Requirements (comma separated)"}),e.jsx("input",{className:"mt-1 w-full rounded-md border p-2",onChange:s=>a("requirements",{items:s.target.value.split(",").map(x=>x.trim()).filter(Boolean)})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Budget (USD)"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded-md border p-2",onChange:s=>a("budget",{...t.budget||{},amount:Number(s.target.value||0)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Timeline (weeks)"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded-md border p-2",onChange:s=>a("timeline",{...t.timeline||{},weeks:Number(s.target.value||0)})})]})]})]}),l===4&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Review your info, then submit to receive a PDF estimate via email."}),e.jsx("pre",{className:"overflow-auto rounded-md bg-gray-50 p-3 text-xs",children:JSON.stringify(t,null,2)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{type:"button",variant:"secondary",onClick:o,disabled:l===1,children:"Back"}),l<4?e.jsx(m,{type:"button",onClick:c,children:"Next"}):e.jsx(m,{type:"submit",disabled:d,children:"Submit"})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Step ",l," of 4"]})]})]})]})]})}export{y as default};
