import{u as f,j as e,H as g,L as j}from"./app-gQnm-lJi.js";import{A as b}from"./AuthenticatedLayout-ejuSzYzF.js";import{B as N}from"./Badge-BFKBhfAD.js";import{P as v}from"./PrimaryButton-CUqbP36T.js";import{D as p}from"./DangerButton-B1dmnq63.js";import"./transition-BCSpRfoo.js";import"./proxy-DUDJtHwb.js";function S({proposal:s}){const{data:a,setData:o,patch:i,processing:l}=f({status:s.status}),m=t=>{t.preventDefault(),i(route("admin.proposals.updateStatus",s.id))},c=()=>{confirm("Are you sure you want to delete this proposal?")&&router.delete(route("admin.proposals.destroy",s.id))},n=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),x=t=>({pending:"pending",in_progress:"in_progress",completed:"completed",rejected:"rejected"})[t]||"default",u=t=>{if(!t)return"N/A";try{const r=typeof t=="string"?JSON.parse(t):t;return r.range?r.range:r.amount?`$${Number(r.amount).toLocaleString()}`:JSON.stringify(r)}catch{return t}},h=t=>{if(!t)return"N/A";try{const r=typeof t=="string"?JSON.parse(t):t;if(r.weeks){const d=Number(r.weeks);return`${d} ${d===1?"week":"weeks"}`}if(r.months){const d=Number(r.months);return`${d} ${d===1?"month":"months"}`}if(r.days){const d=Number(r.days);return`${d} ${d===1?"day":"days"}`}return JSON.stringify(r)}catch{return t}};return e.jsxs(b,{header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-foreground",children:"Proposal Details"}),e.jsx(j,{href:route("admin.proposals.index"),className:"text-sm text-[#4FFA69] hover:text-[#4FFA69]/80 font-medium",children:"← Back to Proposals"})]}),children:[e.jsx(g,{title:`Proposal - ${s.name||"Unnamed"}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8 space-y-6",children:[e.jsx("div",{className:"bg-card border border-border overflow-hidden shadow-sm sm:rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-foreground mb-2",children:s.name||"Unnamed Proposal"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(N,{variant:x(s.status),children:s.status}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Created ",n(s.created_at)]})]})]}),e.jsx(p,{onClick:c,children:"Delete Proposal"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-card border border-border overflow-hidden shadow-sm sm:rounded-lg p-6 hover:border-[#4FFA69]/30 transition-colors",children:[e.jsx("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"Customer Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),e.jsx("p",{className:"mt-1 text-sm text-foreground",children:s.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsx("p",{className:"mt-1 text-sm text-foreground",children:s.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),e.jsx("p",{className:"mt-1 text-sm text-foreground",children:s.phone||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Company"}),e.jsx("p",{className:"mt-1 text-sm text-foreground",children:s.company||"N/A"})]}),s.user&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"User Account"}),e.jsxs("p",{className:"mt-1 text-sm text-foreground",children:[s.user.name," (",s.user.email,")"]})]})]})]}),e.jsxs("div",{className:"bg-card border border-border overflow-hidden shadow-sm sm:rounded-lg p-6 hover:border-[#4FFA69]/30 transition-colors",children:[e.jsx("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"Project Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Project Type"}),e.jsx("p",{className:"mt-1 text-sm text-foreground",children:s.project_type||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),e.jsx("p",{className:"mt-1 text-sm text-foreground whitespace-pre-wrap",children:s.project_description||"N/A"})]}),s.requirements&&s.requirements.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Requirements"}),e.jsx("ul",{className:"mt-2 list-disc list-inside space-y-1",children:s.requirements.map((t,r)=>e.jsx("li",{className:"text-sm text-foreground",children:t},r))})]})]})]}),(s.budget||s.timeline)&&e.jsxs("div",{className:"bg-card border border-border overflow-hidden shadow-sm sm:rounded-lg p-6 hover:border-[#4FFA69]/30 transition-colors",children:[e.jsx("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"Budget & Timeline"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.budget&&e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-muted-foreground flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-[#4FFA69]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Budget"]}),e.jsx("p",{className:"mt-2 text-lg font-semibold text-[#4FFA69]",children:u(s.budget)})]}),s.timeline&&e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-muted-foreground flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-[#4FFA69]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Timeline"]}),e.jsx("p",{className:"mt-2 text-lg font-semibold text-[#4FFA69]",children:h(s.timeline)})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-card border border-border overflow-hidden shadow-sm sm:rounded-lg p-6 hover:border-[#4FFA69]/30 transition-colors",children:[e.jsx("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"Update Status"}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("select",{value:a.status,onChange:t=>o("status",t.target.value),className:"w-full bg-background border-border text-foreground focus:border-[#4FFA69] focus:ring-[#4FFA69] rounded-md shadow-sm",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsx(v,{type:"submit",disabled:l,className:"w-full justify-center",children:"Update Status"})]})]}),s.estimate_pdf_path&&e.jsxs("div",{className:"bg-card border border-border overflow-hidden shadow-sm sm:rounded-lg p-6 hover:border-[#4FFA69]/30 transition-colors",children:[e.jsx("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"Documents"}),e.jsxs("a",{href:`/storage/${s.estimate_pdf_path}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-full px-4 py-2 bg-[#4FFA69]/10 text-[#4FFA69] border border-[#4FFA69]/20 rounded-md hover:bg-[#4FFA69]/20 transition-colors font-medium",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download PDF"]})]}),s.metadata&&e.jsxs("div",{className:"bg-card border border-border overflow-hidden shadow-sm sm:rounded-lg p-6 hover:border-[#4FFA69]/30 transition-colors",children:[e.jsx("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"Additional Info"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Created:"}),e.jsx("span",{className:"text-foreground",children:n(s.created_at)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Updated:"}),e.jsx("span",{className:"text-foreground",children:n(s.updated_at)})]})]})]})]})]})]})})]})}export{S as default};
